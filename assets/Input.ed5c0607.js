import{a as pe,f as fe,g as ye,d as le,r as E,w as oe,p as K,R as ge,P as y,b as S,Q as Z,h as z,_ as f,T as Ie,t as Be,c as I,a_ as Ce,u as _e,o as Ae,j as ce,a2 as Se,e as Pe,X as Ne,F as ze,a8 as Y}from"./index.da7f9356.js";import{c as U}from"./vnode.9b463a26.js";function Re(a){a.target.composing=!0}function se(a){!a.target.composing||(a.target.composing=!1,Me(a.target,"input"))}function Me(a,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),a.dispatchEvent(i)}function te(a,e,i,t){a.addEventListener(e,i,t)}var $e={created:function(e,i){(!i.modifiers||!i.modifiers.lazy)&&(te(e,"compositionstart",Re),te(e,"compositionend",se),te(e,"change",se))}},je=$e,ee=Symbol("ContextProps"),ae=Symbol("InternalContextProps"),De=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pe(function(){return!0}),t=E(new Map),o=function(s,L){t.value.set(s,L),t.value=new Map(t.value)},v=function(s){t.value.delete(s),t.value=new Map(t.value)};oe([i,t],function(){}),K(ee,e),K(ae,{addFormItemField:o,removeFormItemField:v})},ue={id:pe(function(){}),onFieldBlur:function(){},onFieldChange:function(){},clearValidate:function(){}},ie={addFormItemField:function(){},removeFormItemField:function(){}},Te=function(){var e=fe(ae,ie),i=Symbol("FormItemFieldKey"),t=ge();return e.addFormItemField(i,t.type),ye(function(){e.removeFormItemField(i)}),K(ae,ie),K(ee,ue),fe(ee,ue)},Ue=le({name:"AFormItemRest",setup:function(e,i){var t=i.slots;return K(ae,ie),K(ee,ue),function(){var o;return(o=t.default)===null||o===void 0?void 0:o.call(t)}}}),be=function(){return{id:String,prefixCls:String,inputPrefixCls:String,defaultValue:y.oneOfType([y.string,y.number]),value:{type:[String,Number,Symbol],default:void 0},placeholder:{type:[String,Number]},autocomplete:String,type:{type:String,default:"text"},name:String,size:{type:String},disabled:{type:Boolean,default:void 0},readonly:{type:Boolean,default:void 0},addonBefore:y.any,addonAfter:y.any,prefix:y.any,suffix:y.any,autofocus:{type:Boolean,default:void 0},allowClear:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,valueModifiers:Object,hidden:Boolean}},Ve=be,Ge=function(){return S(S({},Z(be(),["prefix","addonBefore","addonAfter","suffix"])),{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object})};function xe(a,e,i,t,o){var v;return z(a,(v={},f(v,"".concat(a,"-sm"),i==="small"),f(v,"".concat(a,"-lg"),i==="large"),f(v,"".concat(a,"-disabled"),t),f(v,"".concat(a,"-rtl"),o==="rtl"),f(v,"".concat(a,"-borderless"),!e),v))}var G=function(e){return e!=null&&(Array.isArray(e)?Ie(e).length:!0)};function Oe(a){return G(a.prefix)||G(a.suffix)||G(a.allowClear)}function re(a){return G(a.addonBefore)||G(a.addonAfter)}var Ee=["text","input"],Ke=le({name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:y.oneOf(Be("text","input")),value:y.any,defaultValue:y.any,allowClear:{type:Boolean,default:void 0},element:y.any,handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:y.any,prefix:y.any,addonBefore:y.any,addonAfter:y.any,readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean},setup:function(e,i){var t=i.slots,o=i.attrs,v=E(),P=function(r){var d;if(!((d=v.value)===null||d===void 0)&&d.contains(r.target)){var u=e.triggerFocus;u==null||u()}},s=function(r){var d,u=e.allowClear,l=e.value,m=e.disabled,h=e.readonly,g=e.handleReset,B=e.suffix,b=B===void 0?t.suffix:B;if(!u)return null;var C=!m&&!h&&l,x="".concat(r,"-clear-icon");return I(Ce,{onClick:g,onMousedown:function(w){return w.preventDefault()},class:z((d={},f(d,"".concat(x,"-hidden"),!C),f(d,"".concat(x,"-has-suffix"),!!b),d),x),role:"button"},null)},L=function(r){var d,u=e.suffix,l=u===void 0?(d=t.suffix)===null||d===void 0?void 0:d.call(t):u,m=e.allowClear;return l||m?I("span",{class:"".concat(r,"-suffix")},[s(r),l]):null},H=function(r,d){var u,l,m,h=e.focused,g=e.value,B=e.prefix,b=B===void 0?(l=t.prefix)===null||l===void 0?void 0:l.call(t):B,C=e.size,x=e.suffix,N=x===void 0?(m=t.suffix)===null||m===void 0?void 0:m.call(t):x,w=e.disabled,R=e.allowClear,T=e.direction,W=e.readonly,M=e.bordered,D=e.hidden,Q=e.addonAfter,ne=Q===void 0?t.addonAfter:Q,p=e.addonBefore,n=p===void 0?t.addonBefore:p,c=L(r);if(!Oe({prefix:b,suffix:N,allowClear:R}))return U(d,{value:g});var A=b?I("span",{class:"".concat(r,"-prefix")},[b]):null,F=z("".concat(r,"-affix-wrapper"),(u={},f(u,"".concat(r,"-affix-wrapper-focused"),h),f(u,"".concat(r,"-affix-wrapper-disabled"),w),f(u,"".concat(r,"-affix-wrapper-sm"),C==="small"),f(u,"".concat(r,"-affix-wrapper-lg"),C==="large"),f(u,"".concat(r,"-affix-wrapper-input-with-clear-btn"),N&&R&&g),f(u,"".concat(r,"-affix-wrapper-rtl"),T==="rtl"),f(u,"".concat(r,"-affix-wrapper-readonly"),W),f(u,"".concat(r,"-affix-wrapper-borderless"),!M),f(u,"".concat(o.class),!re({addonAfter:ne,addonBefore:n})&&o.class),u));return I("span",{ref:v,class:F,style:o.style,onMouseup:P,hidden:D},[A,U(d,{style:null,value:g,class:xe(r,M,C,w)}),c])},k=function(r,d){var u,l,m,h=e.addonBefore,g=h===void 0?(l=t.addonBefore)===null||l===void 0?void 0:l.call(t):h,B=e.addonAfter,b=B===void 0?(m=t.addonAfter)===null||m===void 0?void 0:m.call(t):B,C=e.size,x=e.direction,N=e.hidden;if(!re({addonBefore:g,addonAfter:b}))return d;var w="".concat(r,"-group"),R="".concat(w,"-addon"),T=g?I("span",{class:R},[g]):null,W=b?I("span",{class:R},[b]):null,M=z("".concat(r,"-wrapper"),w,f({},"".concat(w,"-rtl"),x==="rtl")),D=z("".concat(r,"-group-wrapper"),(u={},f(u,"".concat(r,"-group-wrapper-sm"),C==="small"),f(u,"".concat(r,"-group-wrapper-lg"),C==="large"),f(u,"".concat(r,"-group-wrapper-rtl"),x==="rtl"),u),o.class);return I("span",{class:D,style:o.style,hidden:N},[I("span",{class:M},[T,U(d,{style:null}),W])])},j=function(r,d){var u,l=e.value,m=e.allowClear,h=e.direction,g=e.bordered,B=e.hidden,b=e.addonAfter,C=b===void 0?t.addonAfter:b,x=e.addonBefore,N=x===void 0?t.addonBefore:x;if(!m)return U(d,{value:l});var w=z("".concat(r,"-affix-wrapper"),"".concat(r,"-affix-wrapper-textarea-with-clear-btn"),(u={},f(u,"".concat(r,"-affix-wrapper-rtl"),h==="rtl"),f(u,"".concat(r,"-affix-wrapper-borderless"),!g),f(u,"".concat(o.class),!re({addonAfter:C,addonBefore:N})&&o.class),u));return I("span",{class:w,style:o.style,hidden:B},[U(d,{style:null,value:l}),s(r)])};return function(){var _,r=e.prefixCls,d=e.inputType,u=e.element,l=u===void 0?(_=t.element)===null||_===void 0?void 0:_.call(t):u;return d===Ee[0]?j(r,l):k(r,H(r,l))}}});function ve(a){return typeof a=="undefined"||a===null?"":String(a)}function me(a,e,i,t){if(!!i){var o=e;if(e.type==="click"){Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0});var v=a.cloneNode(!0);o.target=v,o.currentTarget=v,v.value="",i(o);return}if(t!==void 0){Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0}),o.target=a,o.currentTarget=a,a.value=t,i(o);return}i(o)}}function Le(a,e){if(!!a){a.focus(e);var i=e||{},t=i.cursor;if(t){var o=a.value.length;switch(t){case"start":a.setSelectionRange(0,0);break;case"end":a.setSelectionRange(o,o);break;default:a.setSelectionRange(0,o)}}}}var He=le({name:"AInput",inheritAttrs:!1,props:Ve(),setup:function(e,i){var t=i.slots,o=i.attrs,v=i.expose,P=i.emit,s=E(),L=E(),H,k=Te(),j=_e("input",e),_=j.direction,r=j.prefixCls,d=j.size,u=j.autocomplete,l=E(e.value===void 0?e.defaultValue:e.value),m=E(!1);oe(function(){return e.value},function(){l.value=e.value}),oe(function(){return e.disabled},function(){e.value!==void 0&&(l.value=e.value),e.disabled&&(m.value=!1)});var h=function(){H=setTimeout(function(){var n;((n=s.value)===null||n===void 0?void 0:n.getAttribute("type"))==="password"&&s.value.hasAttribute("value")&&s.value.removeAttribute("value")})},g=function(n){Le(s.value,n)},B=function(){var n;(n=s.value)===null||n===void 0||n.blur()},b=function(n,c,A){var F;(F=s.value)===null||F===void 0||F.setSelectionRange(n,c,A)},C=function(){var n;(n=s.value)===null||n===void 0||n.select()};v({focus:g,blur:B,input:s,stateValue:l,setSelectionRange:b,select:C});var x=function(n){var c=e.onFocus;m.value=!0,c==null||c(n),Y(function(){h()})},N=function(n){var c=e.onBlur;m.value=!1,c==null||c(n),k.onFieldBlur(),Y(function(){h()})},w=function(n){P("update:value",n.target.value),P("change",n),P("input",n),k.onFieldChange()},R=ge(),T=function(n,c){l.value!==n&&(e.value===void 0?l.value=n:Y(function(){s.value.value!==l.value&&R.update()}),Y(function(){c&&c()}))},W=function(n){me(s.value,n,w),T("",function(){g()})},M=function(n){var c=n.target,A=c.value,F=c.composing;if(!((n.isComposing||F)&&e.lazy||l.value===A)){var $=n.target.value;me(s.value,n,w),T($,function(){h()})}},D=function(n){n.keyCode===13&&P("pressEnter",n),P("keydown",n)};Ae(function(){h()}),ye(function(){clearTimeout(H)});var Q=function(){var n,c=e.addonBefore,A=c===void 0?t.addonBefore:c,F=e.addonAfter,$=F===void 0?t.addonAfter:F,V=e.disabled,X=e.bordered,q=X===void 0?!0:X,O=e.valueModifiers,he=O===void 0?{}:O,we=e.htmlSize,de=Z(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers"]),J=S(S(S({},de),o),{autocomplete:u.value,onChange:M,onInput:M,onFocus:x,onBlur:N,onKeydown:D,class:z(xe(r.value,q,d.value,V,_.value),f({},o.class,o.class&&!A&&!$)),ref:s,key:"ant-input",size:we,id:(n=de.id)!==null&&n!==void 0?n:k.id.value});he.lazy&&delete J.onInput,J.autofocus||delete J.autofocus;var Fe=I("input",Z(J,["size"]),null);return Se(Fe,[[je]])},ne=function(){var n,c=l.value,A=e.maxlength,F=e.suffix,$=F===void 0?(n=t.suffix)===null||n===void 0?void 0:n.call(t):F,V=e.showCount,X=Number(A)>0;if($||V){var q=Pe(ve(c)).length,O=null;return Ne(V)==="object"?O=V.formatter({count:q,maxlength:A}):O="".concat(q).concat(X?" / ".concat(A):""),I(ze,null,[!!V&&I("span",{class:z("".concat(r.value,"-show-count-suffix"),f({},"".concat(r.value,"-show-count-has-suffix"),!!$))},[O]),$])}return null};return function(){var p=S(S(S({},o),e),{prefixCls:r.value,inputType:"input",value:ve(l.value),handleReset:W,focused:m.value&&!e.disabled});return I(Ke,ce(ce({},Z(p,["element","valueModifiers","suffix","showCount"])),{},{ref:L}),S(S({},t),{element:Q,suffix:ne}))}}});export{Ke as C,Ue as F,He as I,je as a,De as b,Le as c,ve as f,Ve as i,me as r,Ge as t,Te as u};
